<div class="meal-form">
	<form [formGroup]="form">

		<div class="meal-form__name">

			<label>
				<h3>Meal name</h3>
				<input type="text" placeholder="e.g. MÃ¼sli" formControlName="name">
				<div class="error" *ngIf="required"></div>
			</label>

		</div>

		<div class="meal-form__food">
			<div class="meal-form__subtitle">
				<h3>Food</h3>
				<button type="button" class="meal-form__add" (click)="addIngredient()">
					<img src="/img/add-white.svg"> Add Food
				</button>
			</div>

			<div formArrayName="ingredients">
				<label *ngFor="let c of ingredients.controls; index as i">
					<input [formControlName]="i" placeholder="e.g Eggs">
					<span (click)="removeIngredient(i)" class="meal-form__remove">
					</span>
				</label>
			</div>

		</div>

		<div class="meal-form__submit">
			<div>
				<button *ngIf="!exists" class="button" (click)="createMeal()" type="button">
					Create a meal
				</button>
				<button *ngIf="exists" class="button" (click)="updateMeal()" type="button">
					Save
				</button>
				<a class="button button--cancel" [routerLink]="['../']">
					Cancel
				</a>
			</div>

			<div class="meal-form__delete" *ngIf="exists">
				<div *ngIf="isToggled">
					<p>Delete?</p>
					<button (click)="removeMeal()" class="confirm" type="button">Yes</button>
					<button (click)="toggle()" class="cancel" type="button">No</button>
				</div>

				<button class="button button--delete" type="button" (click)="toggle()">
					Delete
				</button>
			</div>

		</div>

	</form>
</div>